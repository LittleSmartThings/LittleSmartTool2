/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package littlesmarttool2.GUI;

import java.awt.*;
import javax.swing.*;

/**
 *
 * @author marcher89
 */
public class SS2Wizard extends javax.swing.JFrame {

    private JPanel[] stepPanels;
    private String[] stepNames;
    private int currentStep;
    
    /**
     * Creates new form SS2Wizard
     */
    public SS2Wizard(JPanel[] steps) {
        if(steps.length < 1) throw new IllegalArgumentException("There must be at least one step in the wizard.");
        this.stepPanels = steps;
        this.stepNames = new String[stepPanels.length];
        
        initComponents();
        
        for (int i = 0; i<steps.length; i++) {
            stepNames[i] = "Step number "+i;
            cardPanel.add(stepPanels[i], stepNames[i]);
        }
        
        goToStep(0);
        
        setVisible(true);
    }
    
    private void goToStep(int index) {
        ((CardLayout)cardPanel.getLayout()).show(cardPanel, stepNames[index]);
        backButton.setEnabled((index <= 0) ? false : true);
        nextButton.setText((index >= stepPanels.length-1) ? "Close" : "Next");
        currentStep = index;
    }
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        contentPanel = new javax.swing.JPanel();
        buttonPanel = new javax.swing.JPanel();
        backButton = new javax.swing.JButton();
        nextButton = new javax.swing.JButton();
        cardPanel = new javax.swing.JPanel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("StratoSnapper 2");
        setPreferredSize(new java.awt.Dimension(1000, 700));

        contentPanel.setPreferredSize(new java.awt.Dimension(100, 700));
        contentPanel.setLayout(new java.awt.BorderLayout());

        buttonPanel.setBackground(new java.awt.Color(0, 255, 102));
        buttonPanel.setBorder(javax.swing.BorderFactory.createEmptyBorder(5, 10, 5, 10));
        buttonPanel.setLayout(new java.awt.BorderLayout());

        backButton.setText("Back");
        backButton.setActionCommand("");
        backButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                backButtonActionPerformed(evt);
            }
        });
        buttonPanel.add(backButton, java.awt.BorderLayout.WEST);

        nextButton.setText("Next");
        nextButton.setActionCommand("");
        nextButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nextButtonActionPerformed(evt);
            }
        });
        buttonPanel.add(nextButton, java.awt.BorderLayout.EAST);

        contentPanel.add(buttonPanel, java.awt.BorderLayout.SOUTH);

        cardPanel.setBackground(new java.awt.Color(204, 0, 0));
        cardPanel.setLayout(new java.awt.CardLayout());
        contentPanel.add(cardPanel, java.awt.BorderLayout.CENTER);

        getContentPane().add(contentPanel, java.awt.BorderLayout.CENTER);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void backButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_backButtonActionPerformed
        goToStep(currentStep-1);
    }//GEN-LAST:event_backButtonActionPerformed

    private void nextButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_nextButtonActionPerformed
        if(currentStep < stepPanels.length-1)
            goToStep(currentStep+1);
        else
            //TODO: Warn if haven't saved or uploaded configuration
            System.exit(0);
    }//GEN-LAST:event_nextButtonActionPerformed
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton backButton;
    private javax.swing.JPanel buttonPanel;
    private javax.swing.JPanel cardPanel;
    private javax.swing.JPanel contentPanel;
    private javax.swing.JButton nextButton;
    // End of variables declaration//GEN-END:variables
}
